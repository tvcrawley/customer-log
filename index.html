<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Customer Log</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.4.1/firebase.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/2.1.0/angularfire.min.js"></script>

    <script src="https://www.gstatic.com/firebasejs/3.6.5/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyB96vp1Xs-IGhp4d3aHlvyFR1aJZXKfdEw",
            authDomain: "customer-log-313dd.firebaseapp.com",
            databaseURL: "https://customer-log-313dd.firebaseio.com",
            storageBucket: "customer-log-313dd.appspot.com",
            messagingSenderId: "124465699915"
        };
        firebase.initializeApp(config);
    </script>
    <script src="app.js">
    </script>
</head>

<body ng-app="customerLog">
    <div ng-controller="CustomerLogController as vm">
        <h1>Customer Log</h1>
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone Number</th>
                    <th>Address</th>
                </tr>
            </thead>
            <tbody ng-repeat="customer in vm.customers">
                <tr>
                    <td>{{customer.name.first_name}} {{customer.name.last_name}}</td>
                    <td>{{customer.email}}</td>
                    <td>{{customer.phone_number}}</td>
                    <td>{{customer.address.street}}, {{customer.address.city}}, {{customer.address.state}} {{customer.address.zip}}</td>
                    <td><button ng-click="vm.delete(customer)">Delete Customer</button></td>
                </tr>
            </tbody>
        </table>

        <form ng-submit="vm.addCustomer()">
            <label>First Name: </label>
            <input type="text" ng-model="vm.newCustomer.name.first_name">
            <label>Last Name</label>
            <input type="text" ng-model="vm.newCustomer.name.last_name">
            <label>Email</label>
            <input type="text" ng-model="vm.newCustomer.email">
            <label>Phone Number</label>
            <input type="text" ng-model="vm.newCustomer.phone_number">
            <label>Address</label>
            <label>Street</label>
            <input type="text" ng-model="vm.newCustomer.address.street">
            <label>City</label>
            <input type="text" ng-model="vm.newCustomer.address.city">
            <label>State</label>
            <input type="text" ng-model="vm.newCustomer.address.state">
            <label>Zip</label>
            <input type="text" ng-model="vm.newCustomer.address.zip">
            <button type="submit">Add Customer</button>
        </form>
    </div>
</body>

</html>
